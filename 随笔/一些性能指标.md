# 长尾延迟

长尾请求一般是指明显高于均值的那部分占比较小的请求。 业界关于延迟有一个常用的P99标准， 也就是99%的请求延迟要满足在一定耗时以内， 1%的请求会大于这个耗时， 而这1%就可以认为是长尾请求。

# 服务响应时间衡量指标

## 平均值Avg

服务器当前请求的总耗时/请求总数量。

缺点： 平均值会把异常的值平均掉，导致一些延迟问题被掩盖

## 百分位数值

假设有100个请求，按照响应时间从小到大排列，位置为X的值，即为PX值。

P1就是响应时间最小的请求，P10就是排名第十的请求，P100就是响应时间最长的请求。

比较常用的有：

* p50: 即中位数值。100个请求按照响应时间从小到大排列，位置为50的值，即为P50值。如果响应时间的P50值为200ms，代表我们有半数的用户响应耗时在200ms之内，有半数的用户响应耗时大于200ms。
* p95: 响应耗时从小到大排列，顺序处于95%位置的值即为P95值。100个请求按照响应时间从小到大排列，位置为95的值，即为P95值。 我们假设该值为200ms，意思是说，我们对95%的用户的响应耗时在200ms之内，只有5%的用户的响应耗时大于200ms。
* p99.9: 许多大型的互联网公司会采用P99.9值，也就是99.9%用户耗时作为指标，意思就是1000个用户里面，999个用户的耗时上限，通过测量与优化该值，就可保证绝大多数用户的使用体验。

行业参考标准：

不同行业不同业务可接受的响应时间是不同的，一般情况，对于在线实时交易：

互联网企业：500 毫秒以下，例如淘宝业务 10 毫秒左右。
金融企业：1 秒以下为佳，部分复杂业务 3 秒以下。
保险企业：3 秒以下为佳。
制造业：5 秒以下为佳。
时间窗口：不同数据量结果是不一样的，大数据量的情况下，2 小时内完成。

# 系统性能指标 RT/HPS/TPS/QPS

* 响应时间 RT: 是指系统对请求作出响应的时间

* 每秒点击次数 HPS: 每秒点击次数，单位是次/秒。

* TPS: 每秒处理交易数，单位是笔/秒

* QPS: 每秒查询次数，单位是次/秒

一般情况下用 TPS 来衡量整个业务流程，用 QPS 来衡量接口查询次数，用 HPS 来表示对服务器点击请求。

行业参考标准：

无论 TPS、QPS、HPS，此指标是衡量系统处理能力非常重要的指标，越大越好，根据经验，一般情况下：

金融行业：1000TPS~50000TPS，不包括互联网化的活动
保险行业：100TPS~100000TPS，不包括互联网化的活动
制造行业：10TPS~5000TPS
互联网电子商务：10000TPS~1000000TPS
互联网中型网站：1000TPS~50000TPS
互联网小型网站: 500TPS~10000TPS

# 吞吐量

吞吐量是指系统在单位时间内处理请求的数量。

# 并发用户数

并发用户数指在同一时刻内，登录系统并进行业务操作的用户数量。

并发用户数对于长连接系统来说最大并发用户数即是系统的并发接入能力。对于短连接系统而言最大并发用户数并不等于系统的并发接入能力，而是与系统架构、系统处理能力等各种情况相关。

# 错误率 FR

错误率简称 FR，指系统在负载情况下，失败交易的概率。错误率＝(失败交易数/交易总数)*100%。

